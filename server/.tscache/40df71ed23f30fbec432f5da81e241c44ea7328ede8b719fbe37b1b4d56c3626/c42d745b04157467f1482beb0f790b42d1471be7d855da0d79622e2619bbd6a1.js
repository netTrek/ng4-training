"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
console.log('AuthService');
var AuthService = (function () {
    // tslint:disable-next-line
    // http://localhost:3000/auth?response_type=access%20id&client_id=netTrek&client_secret=netTrek&scope=profile%20users&redirect_uri=http://localhost/4200&state=4711
    function AuthService(req, res) {
        this.req = req;
        this.res = res;
        var _a = req.query, response_type = _a.response_type, client_id = _a.client_id, client_secret = _a.client_secret, scope = _a.scope, redirect_uri = _a.redirect_uri, state = _a.state;
        res.set('Content-Type', 'text/html');
        res.status(200)
            .send(new Buffer("\n    <!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>login</title>\n</head>\n<body>\n  <form action=\"/login\" method=\"post\">\n    <input type=\"hidden\" name=\"response_type\" value=\"" + response_type + "\">\n    <input type=\"hidden\" name=\"client_id\" value=\"" + client_id + "\">\n    <input type=\"hidden\" name=\"client_secret\" value=\"" + client_secret + "\">\n    <input type=\"hidden\" name=\"scope\" value=\"" + scope + "\">\n    <input type=\"hidden\" name=\"redirect_uri\" value=\"" + redirect_uri + "\">\n    <input type=\"hidden\" name=\"state\" value=\"" + state + "\">\n    <label for=\"username\">username</label>\n    <input type=\"text\" name=\"username\" id=\"username\" placeholder=\"netTrek\" required value=\"netTrek\">\n    <label for=\"username\">password</label>\n    <input type=\"password\" name=\"password\" id=\"password\" required value=\"netTrek\">\n    <label for=\"access_scope\">allow access to " + scope + "</label>\n    <input type=\"checkbox\" name=\"access_scope\" id=\"access_scope\">\n</form>\n</body>\n</html>\n    "));
    }
    return AuthService;
}());
function auth(req, res, next) {
    console.log('auth again');
    var as = new AuthService(req, res);
}
exports.auth = auth;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3N1ZW5sdWUvV2Vic2l0ZXMvdHJhaW5pbmcvZ2ZuLTIwMTctMTEvZ2ZuL3NlcnZlci9zcmMvYXV0aFNlcnZpY2UudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdWVubHVlL1dlYnNpdGVzL3RyYWluaW5nL2dmbi0yMDE3LTExL2dmbi9zZXJ2ZXIvc3JjL2F1dGhTZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxDQUFDLEdBQUcsQ0FBRyxhQUFhLENBQUUsQ0FBQztBQUM5QjtJQUNFLDJCQUEyQjtJQUMzQixtS0FBbUs7SUFDbksscUJBQXNCLEdBQUcsRUFBVSxHQUFHO1FBQWhCLFFBQUcsR0FBSCxHQUFHLENBQUE7UUFBVSxRQUFHLEdBQUgsR0FBRyxDQUFBO1FBQzlCLElBQUEsY0FBbUYsRUFBakYsZ0NBQWEsRUFBRSx3QkFBUyxFQUFFLGdDQUFhLEVBQUUsZ0JBQUssRUFBRSw4QkFBWSxFQUFFLGdCQUFLLENBQWU7UUFDMUYsR0FBRyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxHQUFHLENBQUM7YUFDWixJQUFJLENBQUcsSUFBSSxNQUFNLENBQUMsdU9BUzZCLGFBQWEsbUVBQ2pCLFNBQVMsdUVBQ0wsYUFBYSwrREFDckIsS0FBSyxzRUFDRSxZQUFZLCtEQUNuQixLQUFLLHFXQUtKLEtBQUssdUhBS2hELENBQUUsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQyxBQWpDRCxJQWlDQztBQUVELGNBQXVCLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSTtJQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFHLFlBQVksQ0FBRSxDQUFDO0lBQzdCLElBQU0sRUFBRSxHQUFHLElBQUksV0FBVyxDQUFHLEdBQUcsRUFBRSxHQUFHLENBQUUsQ0FBQztBQUMxQyxDQUFDO0FBSEQsb0JBR0MiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLmxvZyAoICdBdXRoU2VydmljZScgKTtcbmNsYXNzIEF1dGhTZXJ2aWNlIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gIC8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoP3Jlc3BvbnNlX3R5cGU9YWNjZXNzJTIwaWQmY2xpZW50X2lkPW5ldFRyZWsmY2xpZW50X3NlY3JldD1uZXRUcmVrJnNjb3BlPXByb2ZpbGUlMjB1c2VycyZyZWRpcmVjdF91cmk9aHR0cDovL2xvY2FsaG9zdC80MjAwJnN0YXRlPTQ3MTFcbiAgY29uc3RydWN0b3IgKCBwcml2YXRlIHJlcSwgcHJpdmF0ZSByZXMgKSB7XG4gICAgY29uc3QgeyByZXNwb25zZV90eXBlLCBjbGllbnRfaWQsIGNsaWVudF9zZWNyZXQsIHNjb3BlLCByZWRpcmVjdF91cmksIHN0YXRlIH0gPSByZXEucXVlcnk7XG4gICAgcmVzLnNldCgnQ29udGVudC1UeXBlJywgJ3RleHQvaHRtbCcpO1xuICAgIHJlcy5zdGF0dXMgKDIwMClcbiAgICAgICAuc2VuZCAoIG5ldyBCdWZmZXIoYFxuICAgIDwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI+XG48aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICA8dGl0bGU+bG9naW48L3RpdGxlPlxuPC9oZWFkPlxuPGJvZHk+XG4gIDxmb3JtIGFjdGlvbj1cIi9sb2dpblwiIG1ldGhvZD1cInBvc3RcIj5cbiAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJyZXNwb25zZV90eXBlXCIgdmFsdWU9XCIke3Jlc3BvbnNlX3R5cGV9XCI+XG4gICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiY2xpZW50X2lkXCIgdmFsdWU9XCIke2NsaWVudF9pZH1cIj5cbiAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjbGllbnRfc2VjcmV0XCIgdmFsdWU9XCIke2NsaWVudF9zZWNyZXR9XCI+XG4gICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwic2NvcGVcIiB2YWx1ZT1cIiR7c2NvcGV9XCI+XG4gICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmVkaXJlY3RfdXJpXCIgdmFsdWU9XCIke3JlZGlyZWN0X3VyaX1cIj5cbiAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJzdGF0ZVwiIHZhbHVlPVwiJHtzdGF0ZX1cIj5cbiAgICA8bGFiZWwgZm9yPVwidXNlcm5hbWVcIj51c2VybmFtZTwvbGFiZWw+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJuYW1lXCIgaWQ9XCJ1c2VybmFtZVwiIHBsYWNlaG9sZGVyPVwibmV0VHJla1wiIHJlcXVpcmVkIHZhbHVlPVwibmV0VHJla1wiPlxuICAgIDxsYWJlbCBmb3I9XCJ1c2VybmFtZVwiPnBhc3N3b3JkPC9sYWJlbD5cbiAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgaWQ9XCJwYXNzd29yZFwiIHJlcXVpcmVkIHZhbHVlPVwibmV0VHJla1wiPlxuICAgIDxsYWJlbCBmb3I9XCJhY2Nlc3Nfc2NvcGVcIj5hbGxvdyBhY2Nlc3MgdG8gJHtzY29wZX08L2xhYmVsPlxuICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiYWNjZXNzX3Njb3BlXCIgaWQ9XCJhY2Nlc3Nfc2NvcGVcIj5cbjwvZm9ybT5cbjwvYm9keT5cbjwvaHRtbD5cbiAgICBgICkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRoICggcmVxLCByZXMsIG5leHQgKSB7XG4gIGNvbnNvbGUubG9nICggJ2F1dGggYWdhaW4nICk7XG4gIGNvbnN0IGFzID0gbmV3IEF1dGhTZXJ2aWNlICggcmVxLCByZXMgKTtcbn1cbiJdfQ==